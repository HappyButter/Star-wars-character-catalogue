{"version":3,"sources":["views/CharactersCatalogue/components/CharacterList/characterListElement.css.js","views/CharactersCatalogue/components/CharacterList/CharacterListElement.js","views/CharactersCatalogue/components/CharacterList/characterList.css.js","views/CharactersCatalogue/components/Modal/modal.css.js","views/CharactersCatalogue/components/Modal/Modal.js","views/CharactersCatalogue/components/CharacterDetails/characterDetails.css.js","views/CharactersCatalogue/components/CharacterDetails/CharacterDetails.js","views/CharactersCatalogue/components/CharacterList/CharacterList.js","views/CharactersCatalogue/components/SearchBar/searchBar.css.js","views/CharactersCatalogue/components/SearchBar/SearchBar.js","views/CharactersCatalogue/CharactersCatalogue.js"],"names":["ElementBox","styled","div","CustomLink","Link","CharacterListElement","characterData","style","color","name","gender","birthYear","to","index","ListWrapper","ModalWrapper","ModalContent","ModalHeader","header","Line","ExitIcon","Modal","children","history","useHistory","handleCloseModal","e","stopPropagation","goBack","createPortal","onClick","backgroundColor","padding","border","background","document","getElementById","CharacterDetailsWrapper","CharacterDetails","characters","useParams","useState","filmNames","setFilmNames","filmLinksList","filmList","getFilmNames","a","link","axios","then","res","prevFilmNames","data","title","catch","console","log","useEffect","height","eyeColor","hairColor","skinColor","map","filmName","CharacterList","searchQuery","pageNumber","setPageNumber","setCharacters","hasMoreCharacters","setHasMoreCharacters","mapCharacter","character","birth_year","eye_color","hair_color","skin_color","films","getMoreCharacters","nextPage","query","method","url","params","search","page","fetchedCharacters","results","prevCharacters","next","prevPageNumber","message","dataLength","length","hasMore","loader","path","SearchBarInput","input","SearchBar","setSearchQuery","currentQuery","setCurrentQuery","saveCahnges","useCallback","debounce","nextValue","type","onChange","target","value","placeholder","CharactersCatalogue"],"mappings":"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","file":"static/js/4.a3daba08.chunk.js","sourcesContent":["import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const ElementBox = styled.div`\r\n  color: rgb(170, 170, 170);\r\n  height: 200px;\r\n  /* max-width: 400px; */\r\n  min-width: 250px;\r\n  width:auto;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n  justify-content: center;\r\n  display: flex;\r\n  list-style-type: none;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n\r\n  background: rgba(255, 255, 255, 0.2);\r\n  box-shadow: 0 8px 32px 0 rgba(100, 100, 100, 0.1);\r\n  backdrop-filter: blur(14px);\r\n  -webkit-backdrop-filter: blur(14px);\r\n  border-radius: 0.4em;\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n`;\r\n\r\nexport const CustomLink = styled(Link)`\r\n  text-decoration: none;\r\n  color: #ffc500;\r\n  padding: 30px 50px 0 50px;\r\n`;\r\n","import React from 'react';\r\nimport { ElementBox, CustomLink } from './characterListElement.css';\r\n\r\nconst CharacterListElement = ({ characterData }) => {\r\n  return (\r\n    <ElementBox>\r\n      <h1 style={{ color: 'white' }}>{characterData.name}</h1>\r\n      <p>Gender: {characterData.gender}</p>\r\n      <p>Birth Year: {characterData.birthYear}</p>\r\n\r\n      <CustomLink to={`/characters/${characterData.index}`}>\r\n        Read more\r\n      </CustomLink>\r\n    </ElementBox>\r\n  );\r\n};\r\n\r\nexport default CharacterListElement;\r\n","import styled from 'styled-components';\r\n\r\nexport const ListWrapper = styled.div`\r\n    justify-content: center;\r\n    /* display: flex;   */\r\n`;","import styled from 'styled-components';\r\n\r\nexport const ModalWrapper = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  z-index: 101;\r\n`;\r\n\r\nexport const ModalContent = styled.div`\r\n  position: relative;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 101;\r\n  width: calc(100vw - 5em);\r\n  height: calc(100vh - 5em);\r\n  max-width: 1000px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 10px;\r\n  gap: 10px;\r\n  font-size: 1.1em;\r\n\r\n  background-color: rgba(100, 100, 100, 0.7);\r\n  box-shadow: 0 8px 32px 0 rgba(100, 100, 100, 0.1);\r\n  backdrop-filter: blur(14px);\r\n  -webkit-backdrop-filter: blur(14px);\r\n  border-radius: 0.4em;\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n`;\r\n\r\nexport const ModalHeader = styled.header`\r\n  text-align: right;\r\n  padding: 10px;\r\n  color: #aaa;\r\n`;\r\n\r\nexport const Line = styled.div`\r\n  width: 25px;\r\n  height: 3px;\r\n  background-color: white;\r\n  margin: 5px;\r\n  -webkit-transition: all 0.5s ease;\r\n  transition: all 0.5s ease;\r\n`;\r\n\r\nexport const ExitIcon = styled.div`\r\n  cursor: pointer;\r\n  display: block;\r\n  margin-left: auto;\r\n  padding: 10px;\r\n  ${Line}:nth-child(1) {\r\n    transform: rotate(-45deg) translate(-5px, 6px);\r\n  }\r\n\r\n  ${Line}:nth-child(2) {\r\n    opacity: 0;\r\n    transform: translateX(20px);\r\n  }\r\n  ${Line}:nth-child(3) {\r\n    transform: rotate(45deg) translate(-5px, -6px);\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport {\r\n  ModalWrapper,\r\n  ModalContent,\r\n  ModalHeader,\r\n  ExitIcon,\r\n  Line,\r\n} from './modal.css';\r\n\r\nconst Modal = ({ children }) => {\r\n  const history = useHistory();\r\n\r\n  const handleCloseModal = (e) => {\r\n    e.stopPropagation();\r\n    history.goBack();\r\n  };\r\n\r\n  return createPortal(\r\n    <ModalWrapper onClick={handleCloseModal}>\r\n      <ModalContent onClick={(e) => e.stopPropagation()}>\r\n        <ModalHeader>\r\n          <button\r\n            onClick={handleCloseModal}\r\n            style={{\r\n              backgroundColor: 'transparent',\r\n              padding: 0,\r\n              border: 'none',\r\n              background: 'none',\r\n            }}>\r\n            <ExitIcon>\r\n              <Line></Line>\r\n              <Line></Line>\r\n              <Line></Line>\r\n            </ExitIcon>\r\n          </button>\r\n        </ModalHeader>\r\n        {children}\r\n      </ModalContent>\r\n    </ModalWrapper>,\r\n    document.getElementById('modal')\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import styled from 'styled-components';\r\n\r\nexport const CharacterDetailsWrapper = styled.div`\r\n  color: rgb(170, 170, 170);\r\n\r\n  & > hr {\r\n    color: rgb(170, 170, 170);\r\n  }\r\n`;\r\n","import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport { CharacterDetailsWrapper } from './characterDetails.css';\r\n\r\nconst CharacterDetails = ({ characters }) => {\r\n  const { index } = useParams();\r\n  const [filmNames, setFilmNames] = useState([]);\r\n\r\n  const characterData = characters[index];\r\n  const filmLinksList = characterData.filmList;\r\n\r\n  const getFilmNames = async (filmLinksList) => {\r\n    for (const link of filmLinksList) {\r\n      axios(link)\r\n        .then((res) => {\r\n          setFilmNames((prevFilmNames) => [...prevFilmNames, res.data.title]);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getFilmNames(filmLinksList);\r\n  }, [filmLinksList]);\r\n\r\n  return (\r\n    <CharacterDetailsWrapper>\r\n      <h1 style={{ color: 'white' }}>{characterData.name}</h1>\r\n      <hr />\r\n      <br />\r\n      <p>Gender: {characterData.gender}</p>\r\n      <p>Birth Year: {characterData.birthYear}</p>\r\n      <p>Height: {characterData.height}</p>\r\n      <p>Eye Color: {characterData.eyeColor}</p>\r\n      <p>Hair Color: {characterData.hairColor}</p>\r\n      <p>Skin Color: {characterData.skinColor}</p>\r\n      <br />\r\n      <hr />\r\n      <br />\r\n      <h3 style={{ color: 'white' }}>Film lsit:</h3>\r\n      <br />\r\n      {filmNames.map((filmName, index) => (\r\n        <p key={index}>{filmName}</p>\r\n      ))}\r\n    </CharacterDetailsWrapper>\r\n  );\r\n};\r\n\r\nexport default CharacterDetails;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\n\r\nimport { Loader } from 'components';\r\n\r\nimport CharacterListElement from './CharacterListElement';\r\nimport { ListWrapper } from './characterList.css';\r\n\r\nimport { Modal } from '../Modal';\r\nimport { CharacterDetails } from '../CharacterDetails';\r\n\r\n\r\n\r\nconst CharacterList = ({ searchQuery, pageNumber, setPageNumber }) => {\r\n  const [characters, setCharacters] = useState([]);\r\n  const [hasMoreCharacters, setHasMoreCharacters] = useState(false);\r\n\r\n  const mapCharacter = (character, index) => {\r\n    return {\r\n      name: character.name,\r\n      gender: character.gender,\r\n      birthYear: character.birth_year,\r\n      eyeColor: character.eye_color,\r\n      hairColor: character.hair_color,\r\n      skinColor: character.skin_color,\r\n      height: character.height,\r\n      filmList: character.films,\r\n      index,\r\n    };\r\n  };\r\n\r\n  const getMoreCharacters = async (nextPage, query) => {\r\n    try {\r\n      const { data } = await axios({\r\n        method: 'GET',\r\n        url: 'https://swapi.dev/api/people/',\r\n        params: { search: query, page: nextPage },\r\n      });\r\n\r\n      const fetchedCharacters = data.results.map((character, index) =>\r\n        mapCharacter(character, index)\r\n      );\r\n      setCharacters((prevCharacters) => [\r\n        ...prevCharacters,\r\n        ...fetchedCharacters,\r\n      ]);\r\n\r\n      if (data.next !== null) {\r\n        setHasMoreCharacters(true);\r\n        setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n      } else {\r\n        setHasMoreCharacters(false);\r\n      }\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCharacters([]);\r\n    getMoreCharacters(pageNumber, searchQuery);\r\n  }, [searchQuery]);\r\n\r\n  return (\r\n    <ListWrapper>\r\n      <InfiniteScroll\r\n        dataLength={characters.length}\r\n        next={() => getMoreCharacters(pageNumber, searchQuery)}\r\n        hasMore={hasMoreCharacters}\r\n        loader={<Loader />}>\r\n        {characters.map((character, index) => (\r\n          <CharacterListElement characterData={character} key={index} />\r\n        ))}\r\n      </InfiniteScroll>\r\n\r\n      <Switch>\r\n        <Route path=\"/characters/:index\">\r\n          <Modal>\r\n            <CharacterDetails characters={characters} />\r\n          </Modal>\r\n        </Route>\r\n      </Switch>\r\n    </ListWrapper>\r\n  );\r\n};\r\n\r\nexport default CharacterList;\r\n","import styled from 'styled-components';\r\n\r\nexport const SearchBarInput = styled.input`\r\n  color: rgb(170, 170, 170);\r\n  min-width: 250px;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n  gap: 10px;\r\n\r\n  background: rgba(255, 255, 255, 0.2);\r\n  box-shadow: 0 8px 32px 0 rgba(100, 100, 100, 0.1);\r\n  backdrop-filter: blur(14px);\r\n  -webkit-backdrop-filter: blur(14px);\r\n  border-radius: 1.4em;\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n","import React, { useState, useCallback } from 'react';\r\nimport { debounce } from 'lodash';\r\n\r\nimport { SearchBarInput } from './searchBar.css';\r\n\r\nconst SearchBar = ({ setSearchQuery, setPageNumber }) => {\r\n  const [currentQuery, setCurrentQuery] = useState('');\r\n\r\n  const saveCahnges = useCallback(\r\n    debounce((nextValue) => {\r\n      setPageNumber(1);\r\n      setSearchQuery(nextValue);\r\n    }, 1000),\r\n    []\r\n  );\r\n\r\n  const handleChange = (e) => {\r\n    setCurrentQuery(e.target.value);\r\n    saveCahnges(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <SearchBarInput\r\n        type=\"text\"\r\n        onChange={handleChange}\r\n        value={currentQuery}\r\n        placeholder=\"Search...\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { useState } from 'react';\r\n\r\nimport { CharacterList } from './components/CharacterList';\r\nimport { SearchBar } from './components/SearchBar';\r\n\r\nconst CharactersCatalogue = () => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n\r\n  return (\r\n    <div>\r\n      <SearchBar\r\n        setSearchQuery={setSearchQuery}\r\n        setPageNumber={setPageNumber}\r\n      />\r\n      <CharacterList\r\n        searchQuery={searchQuery}\r\n        pageNumber={pageNumber}\r\n        setPageNumber={setPageNumber}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CharactersCatalogue;\r\n"],"sourceRoot":""}